<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="./main.css">
    <link rel="stylesheet" href="./loading.css">
    <script src="//at.alicdn.com/t/font_697174_mbchc81smsvjwcdi.js"></script>
    <style type="text/css">
        .icon {
           width: 1em; height: 1em;
           vertical-align: -0.15em;
           fill: currentColor;
           overflow: hidden;
        }
    </style>
</head>
<body>
        <div id='awelcome' class="awelcome active">
                <div class="loading"></div>
        </div>
        <div class="banner">
                <div class="nav">
                        <div id='stick' class="stick">     
                                <div class="logo">
                                        <a href="#"><span class="rs">RS</span><span class="cd">card</span></a>
                                </div>
            <ul class="nav__ul">
                <li class="nav__li"><a href="#siteAbout">ABOUT</a></li>
                <li class="nav__li"><a href="#siteSkills">SKILLS</a></li>
                <li class="nav__li"><a href="#sitePortfolio">PORTFOLIO</a></li>
                <li class='nav__li'><a href="#siteExrerience">EXPERIENCE 
                        <ul class="submenu">
                                <li>作品xxx</li>
                                <li>作品xxxxxxxxx</li>
                                <li>作品xx</li>
                                <li>作品xxxx</li>
                        </ul></a>    
                </li>
                <li class="nav__li"><a href="#pricing">PRICING</a></li>
                <li class="nav__li"><a href="#blog">BLOG
                        <ul class="submenu">
                                <li>xxx</li>
                                <li>xxxxxxxxx</li>
                                <li>xx</li>
                                <li>xxxx</li>
                        </ul></a> 
                </li>
                <li class="nav__li"><a href="#">CALENDAR</a></li>
                <li class="nav__li"><a href="#">CONTACT</a></li>
                <li class="nav__li"><a href="#">OTHER</a></li>
            </ul>
                </div>  
        </div>
 
<!-- 导航结束 -->
        <div data-x id='siteAbout'class="card">
            <div class="ph">
               <img src="./image/photo.jpg" alt="照片">
            </div>  
            <div class="con">
                <span class="hello">HELLO</span>
                <div class="tri"></div>
                <h1><span>l'm</span> 常健玮</h1>
                <p>Designers and developers</p>
                <hr>
              <dl>
                  <dt>AGE</dt>
                  <dd>24</dd>
                  <dt>ADDRESS</dt>
                  <dd>北京海淀区</dd>
                  <dt>E-MAIL</dt>
                  <dd>thewindcc@gmail.com</dd>
                  <dt>PHONE</dt>
                  <dd>+1 256 254 84 56</dd>
                  <dt>FREELANCE</dt>
                  <dd>till March 25, 2018</dd>
                  <dt>Vacation</dt>
                  <dd>till April 15, 2018</dd>
              </dl>
            </div>
            <div class="footer">
                <a href="#">
                        <svg class="icon" aria-hidden="true">
                                <use xlink:href="#icon-github"></use>
                        </svg>                    
                </a>
                <a href="#">
                        <svg class="icon" aria-hidden="true">
                                <use xlink:href="#icon-twitter"></use>
                        </svg> 
                </a>
                <a href="#">
                        <svg class="icon" aria-hidden="true">
                                <use xlink:href="#icon-facebook"></use>
                        </svg>
                </a>
                <a href="#">
                        <svg class="icon" aria-hidden="true">
                                <use xlink:href="#icon-dribbble"></use>
                        </svg>
                </a>
                <a href="#">
                        <svg class="icon" aria-hidden="true">
                                <use xlink:href="#icon-socialmediaiconwhitefb"></use>
                        </svg>
                </a>
                <a href="#">
                        <svg class="icon" aria-hidden="true">
                                <use xlink:href="#icon-weibiaoti1"></use>
                        </svg>
                </a>
            </div>
        </div>
    </div>
    </div>
    <div class="inbox"></div>
    <p class="cen">
        <a class="dr" href="/JL.html" download="简历" target="_blank">简历下载</a>
    </p>
    <p class="selfIntroduction">
                你好！ 我是常健玮。 专门从事前端开发的Web开发人员。 在动态Web项目的开发周期的所有阶段都有经验。 熟悉众多编程语言，包括JavaScript，SQL和C. Stng项目管理和客户关系背景。
    </p>
    <section data-x id='siteSkills'class="skills">
    <h2>专业技能</h2>
    <ol class="clearfix">
            <li>
                <h3>WordPress</h3>
                <div class="progressbar">
                        <div class="progress p1"></div>
                </div>
            </li>
            <li>
                <h3>HTML & CSS</h3>
                <div class="progressbar">
                        <div class="progress p2"></div>
                </div>
            </li>
            <li>
                <h3>JavaScript</h3>
                <div class="progressbar">
                        <div class="progress p3"></div>
                </div>
            </li>
            <li>
                <h3>PHP & MySQL</h3>
                <div class="progressbar">
                        <div class="progress p4"></div>
                </div>
            </li>
            <li>
                <h3>Drupal</h3>
                <div class="progressbar">
                        <div class="progress p5"></div>
                </div>
            </li>
            <li>
                <h3>Photoshop</h3>
                <div class="progressbar">
                        <div class="progress p6"></div>
                </div>
            </li>
    </ol>
</section>
<section data-x id='sitePortfolio'class="portfolio">
        <h2>作品集</h2>
        <nav>
                <ol>
                        <li id="portfolio1">ALL</li>
                        <li id="portfolio2">PHTOTGRAPHY</li>
                        <li id="portfolio3">UX DESIGN</li>
                </ol>
                <div id="portfolioBar" class="bar state-1">
                        <div class="bar-inner"></div>
                </div>  
        </nav>
        <script>
                portfolio1.onclick=function(){
                        portfolioBar.className='bar state-1'   
                }
                portfolio2.onclick=function(){
                        portfolioBar.className='bar state-2'   
                }
                portfolio3.onclick=function(){
                        portfolioBar.className='bar state-3'   
                }
        </script>
        <div class="works">
                <div class="big">
                        <img src="./image/works1.jpg" alt="作品1">
                </div>
                <div class="small-t">
                                <img src="./image/works2.jpg" alt="作品1">
                </div>
                <div class="small-b">
                                <img src="./image/works3.jpg" alt="作品1">
                </div>
        </div>
</section>
</body>
<!-- 引入缓动库 -->
<script src = 'https://cdnjs.cloudflare.com/ajax/libs/tween.js/17.3.0/Tween.min.js'></script>

<script>
        
        // setTimeout(function() {
                awelcome.classList.remove('active')//页面加载动画
        // }, 2000);

        let markTags = document.querySelectorAll('[data-x]')
                for(let i=0;i<markTags.length;i++){
                       markTags[i].classList.add('offset')
                }
        y()
        //导航跟随
        window.onscroll = function(x){
                
                if(window.scrollY>0){
                        stick.classList.add('active')
                }else{
                        stick.classList.remove('active')
                }
                y()   
        }
               
                //指定位置导航高亮
                function y(){
                let minIndex = 0
                let markTags = document.querySelectorAll('[data-x]')
                for(let i=1;i<markTags.length;i++){
                        if(Math.abs(markTags[i].offsetTop - window.scrollY) < Math.abs(markTags[minIndex].offsetTop - window.scrollY )){
                                minIndex = i
                        }  
                }
                markTags[minIndex].classList.remove('offset')
                let id = markTags[minIndex].id
                let a = document.querySelector('a[href="#'+ id +'"]')
                let li = a.parentNode
                let borthersAndMe = li.parentNode.children
                for(let i=0;i<borthersAndMe.length;i++){
                        borthersAndMe[i].classList.remove('highlight')
                }
                li.classList.add('highlight')
                }
       

        //鼠标移入导航的效果
        let liTags = document.getElementsByClassName('nav__li')
        for(let i=0; i<liTags.length;i++){
                liTags[i].onmouseenter = function(x){
                        x.currentTarget.classList.add('active') 
                }
                
                liTags[i].onmouseleave = function(x){
                        x.currentTarget.classList.remove('active')
                }
        }
        //定位
        let  aTags = document.querySelectorAll('.stick > ul > li > a')
                for(let i=0;i<aTags.length;i++){
                        aTags[i].onclick = function(x){
                                x.preventDefault()//阻止默认动作
                                let a = x.currentTarget
                                let href=a.getAttribute('href')
                                let element = document.querySelector(href) 
                                let top = element.offsetTop

                                // //定位滑动
                                function animate(time) {
                                requestAnimationFrame(animate);
                                TWEEN.update(time);
                                }
                                requestAnimationFrame(animate);
                                
                                let currentTop = window.scrollY
                                let targetTop = top - 80
                                let s = targetTop - currentTop
                                var t = Math.abs((s/100)*300)
                                if(t>500){t=500}
                                var coords = {  y: currentTop}; //起始位置
                                var tween = new TWEEN.Tween(coords) 
                                        .to({  y: targetTop },t) 
                                        .easing(TWEEN.Easing.Cubic.InOut) //缓动函数
                                        .onUpdate(function() {
                                                window.scrollTo(0,coords.y)
                                        })
                                        .start();
                        }
                }
</script>
</html>